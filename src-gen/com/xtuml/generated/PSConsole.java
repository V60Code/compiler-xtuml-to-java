package com.xtuml.generated;

import com.xtuml.runtime.BaseModel;
import com.xtuml.runtime.ObjectBroker;
import com.xtuml.runtime.RelationshipManager;
import com.xtuml.runtime.XtUmlEvent;
import java.util.UUID;
import java.time.LocalDateTime;

        // [CRITERIA 1] Handle Class Generation
// Generated by xtUML Compiler
// Class ID: 2
public class PSConsole extends BaseModel {

    // Event Constants
    public static final int EVENT_ONAVAILABLE = 8470;
    public static final int EVENT_SETAVAILABLE = 5703;
    public static final int EVENT_ONRENTED = 3687;
    public static final int EVENT_SETMAINTENANCE = 5119;
    public static final int EVENT_SETRENTED = 1274;

    // State Enum
    public enum State {
        AVAILABLE,
        RENTED,
        MAINTENANCE
    }

    private State currentState;

    // Attributes
    private UUID console_id;
    private String model;
    private String availability;
    private UUID rate_id;

    // Constructor
    public PSConsole() {
        super();
        ObjectBroker.getInstance().add(this);
        this.currentState = State.AVAILABLE;
    }

    // Getters and Setters
    public UUID getConsole_id() {
        return this.console_id;
    }

    public void setConsole_id(UUID console_id) {
        this.console_id = console_id;
    }

    public String getModel() {
        return this.model;
    }

    public void setModel(String model) {
        this.model = model;
    }

    public String getAvailability() {
        return this.availability;
    }

    public void setAvailability(String availability) {
        this.availability = availability;
    }

    public UUID getRate_id() {
        return this.rate_id;
    }

    public void setRate_id(UUID rate_id) {
        this.rate_id = rate_id;
    }

    // State Machine Processing Loop
    @Override
    public void processEvent(XtUmlEvent e) {
        switch (currentState) {
            case AVAILABLE:
                if (e.getEventId() == EVENT_ONAVAILABLE) {
                    action_AVAILABLE(e);
                    this.currentState = State.AVAILABLE;
                }
                else if (e.getEventId() == EVENT_SETAVAILABLE) {
                    action_AVAILABLE(e);
                    this.currentState = State.AVAILABLE;
                }
                else if (e.getEventId() == EVENT_ONRENTED) {
                    action_RENTED(e);
                    this.currentState = State.RENTED;
                }
                else if (e.getEventId() == EVENT_SETMAINTENANCE) {
                    action_MAINTENANCE(e);
                    this.currentState = State.MAINTENANCE;
                }
                else if (e.getEventId() == EVENT_SETRENTED) {
                    action_RENTED(e);
                    this.currentState = State.RENTED;
                }
                break;
            case RENTED:
                if (e.getEventId() == EVENT_ONAVAILABLE) {
                    action_AVAILABLE(e);
                    this.currentState = State.AVAILABLE;
                }
                else if (e.getEventId() == EVENT_SETAVAILABLE) {
                    action_AVAILABLE(e);
                    this.currentState = State.AVAILABLE;
                }
                else if (e.getEventId() == EVENT_ONRENTED) {
                    action_RENTED(e);
                    this.currentState = State.RENTED;
                }
                else if (e.getEventId() == EVENT_SETMAINTENANCE) {
                    action_MAINTENANCE(e);
                    this.currentState = State.MAINTENANCE;
                }
                else if (e.getEventId() == EVENT_SETRENTED) {
                    action_RENTED(e);
                    this.currentState = State.RENTED;
                }
                break;
            case MAINTENANCE:
                if (e.getEventId() == EVENT_ONAVAILABLE) {
                    action_AVAILABLE(e);
                    this.currentState = State.AVAILABLE;
                }
                else if (e.getEventId() == EVENT_SETAVAILABLE) {
                    action_AVAILABLE(e);
                    this.currentState = State.AVAILABLE;
                }
                else if (e.getEventId() == EVENT_ONRENTED) {
                    action_RENTED(e);
                    this.currentState = State.RENTED;
                }
                else if (e.getEventId() == EVENT_SETMAINTENANCE) {
                    action_MAINTENANCE(e);
                    this.currentState = State.MAINTENANCE;
                }
                else if (e.getEventId() == EVENT_SETRENTED) {
                    action_RENTED(e);
                    this.currentState = State.RENTED;
                }
                break;
        }
    }

    private void action_AVAILABLE(XtUmlEvent rcvd_evt) {
        this.availability = "available";
        System.out.println("Entering state: AVAILABLE");
        System.out.println("Console is now available for rent.");
    }

    private void action_RENTED(XtUmlEvent rcvd_evt) {
        this.availability = "rented";
        System.out.println("Entering state: RENTED");
        System.out.println("Console has been rented.");
        com.xtuml.runtime.XtUmlEvent evt = new com.xtuml.runtime.XtUmlEvent(this.getInstanceId(), EVENT_SETAVAILABLE, null);
com.xtuml.runtime.TimerService.getInstance().startTimer(3600, evt);
    }

    private void action_MAINTENANCE(XtUmlEvent rcvd_evt) {
        this.availability = "maintenance";
        System.out.println("Entering state: MAINTENANCE");
        System.out.println("Console is under maintenance.");
        java.time.LocalDateTime now = java.time.LocalDateTime.now();
    }

    // Logical Deletion
    @Override
    public void delete() {
        ObjectBroker.getInstance().remove(this);
        super.delete();
    }
}
